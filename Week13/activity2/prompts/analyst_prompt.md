Analyze the following CV and provide structured, prioritized recommendations to improve it for current tech industry hiring.

### Inputs
- Target Role/Context (optional): 
{target_role}

- Job Description (optional):
{job_desc}

- Candidate CV (raw text):
{cv_text}

### Your Tasks
1) **High-level diagnosis** (3–5 bullet points): overall strengths, gaps, clarity, and seniority signal.
2) **ATS-readiness**: keywords, formatting pitfalls, length, inconsistent tense/first-person issues.
3) **Section-by-section fixes**: header, summary, skills, experience bullets (use STAR-ish phrasing), education, projects, certs.
4) **Skills gap & learning plan**: missing/core skills for the target role; 30–60–90 day upskilling outline.
5) **Job match** (if job description provided): alignment score 0–100, missing keywords, tailoring advice.
6) **Rewrite examples**: provide 2–3 improved bullet points and an improved professional summary (3 sentences max).

### Output Format (Markdown)
Use the following headings exactly:
- ## Summary Diagnosis
- ## ATS Readiness
- ## Section-by-Section Fixes
- ## Skills Gap & Learning Plan
- ## Job Match (if provided)
- ## Rewritten Examples
